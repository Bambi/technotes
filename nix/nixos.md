## NixOS
Linux distribution with the Nix package manager composed using packages and modules
(Library of Nix expressions) defined in the [nixpkgs project](https://github.com/NixOS/nixpkgs/).
System updates are atomic and may be reverted.
Main Nix configuration files are:
- `/etc/nixos/configuration.nix`: your NixOS configuration
- `/etc/nixos/hardware-configuration.nix`: generated by `nixos-generate-config`

To generate a new configuration:
- `nixos-rebuild [build|switch]` will generate the config in `/etc/nixos/configuration.nix`
  and optionnally activate it
- `nixos-rebuild -I nixos-config=<file> build` will generate a specific config

### Install NixOS on new Hardware
- boot a linux (NixOs install or a generic Linux distribution with Nix pkgs installed)
- create filesystems and mount them in a temporary root (should have at least
  a `/` and a vfat efi `/boot`)
- generate conf (`nixos-generate-config --root <root path>`).
- generate SSH hosts keys and store private keys on FS
- get `configuration.nix`, `hardware-configuration.nix` and public keys and
  put them in your NixOS configuration git repository.

### Configuration Examples
- [](https://github.com/sjau/nixos)
- [NixOS Configuration Collection](https://nixos.wiki/wiki/Configuration_Collection)
  Interesting: Andrew,saksmt,bbigras,ryan4yin
- [misterio](https://sr.ht/~misterio/nix-config/)
- [starter config](https://github.com/Misterio77/nix-starter-configs)
- [journal Linuxfr NixOS/Home-manager](https://linuxfr.org/users/nokomprendo-3/journaux/gerer-son-environnement-utilisateur-nixos-avec-home
-manager)
- [Setting up my machines: nix style](https://aldoborrero.com/posts/2023/01/15/setting-up-my-machines-nix-style/)
